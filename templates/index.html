<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer Segmentation Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { padding: 20px; }
        img { max-width: 100%; border: 1px solid #ccc; margin-bottom: 20px; }
        .plot-card { margin-bottom: 30px; }

        /* Professional banner styling */
        .author-banner {
            background-color: #f8f9fa;
            padding: 15px;
            border: 2px solid #0d6efd;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
            position: relative;
        }

        /* Smooth ticker animation */
        .scrolling-text {
            display: inline-block;
            white-space: nowrap;
            position: relative;
            animation: ticker 15s linear infinite;
            font-weight: 600;
            font-size: 1.1rem;
            color: #212529;
        }

        @keyframes ticker {
            0%   { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
    </style>
</head>
<body class="bg-light">

<div class="container">
    <!-- ‚úÖ Professional Banner -->
    <div class="author-banner text-center">
        <div class="scrolling-text">
            Final Project ‚Äì Customer Segmentation | By: <span class="text-primary">Osazuwa Omoregbe</span> | üåç Deployed on <strong>Render</strong> (AWS deployment attempt unsuccessful)
        </div>
    </div>

    <!-- Dashboard Title -->
    <h1 class="mb-4 text-center">üìä Customer Segmentation Dashboard</h1>

    <!-- Cluster Update Form -->
    <div class="card mb-4">
        <div class="card-body">
            <form action="/update" method="post" class="row g-3 align-items-center">
                <div class="col-auto">
                    <label for="clusters" class="col-form-label">Number of Clusters:</label>
                </div>
                <div class="col-auto">
                    <input type="number" id="clusters" name="clusters" value="4" min="2" max="10" class="form-control">
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Plots Section -->
    <h2 class="mb-3">Visualizations</h2>
    <div class="row">
        {% for img in images %}
        <div class="col-md-6 plot-card">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">{{ img }}</h5>
                    <img src="{{ url_for('plots', filename=img) }}" alt="{{ img }}" class="img-fluid">
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Cluster Summary -->
    {% if cluster_summary %}
    <h2 class="mt-5">Cluster Summary</h2>
    <div class="card shadow-sm">
        <div class="card-body">
            {{ cluster_summary | safe }}
            <a href="{{ url_for('download_summary') }}" class="btn btn-success mt-3">‚¨áÔ∏è Download Cluster Summary CSV</a>
        </div>
    </div>
    {% endif %}
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
